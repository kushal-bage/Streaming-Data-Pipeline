# jupyter/spark-defaults.conf

# Performance tuning
spark.sql.adaptive.enabled=true
spark.sql.adaptive.coalescePartitions.enabled=true
spark.sql.adaptive.coalescePartitions.minPartitionSize=64MB
spark.sql.adaptive.coalescePartitions.initialPartitionNum=200
spark.sql.adaptive.localShuffleReader.enabled=true
spark.sql.adaptive.skewJoin.enabled=true

# Memory settings
spark.executor.memory=2g
spark.driver.memory=1g
spark.executor.memoryFraction=0.8
spark.executor.cores=2

# Serialization
spark.serializer=org.apache.spark.serializer.KryoSerializer

# Dynamic allocation
spark.dynamicAllocation.enabled=true
spark.dynamicAllocation.minExecutors=1
spark.dynamicAllocation.maxExecutors=5